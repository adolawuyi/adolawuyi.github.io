{"ast":null,"code":"import _defineProperty from \"/Users/fugazi/criberr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/fugazi/criberr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/Users/fugazi/criberr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useState, useEffect } from \"react\";\nimport Validation from \"./Validation\";\nvar useForm = function useForm(submitForm) {\n  var _useState = useState({\n      fullname: \"\",\n      email: \"\",\n      tel: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    values = _useState2[0],\n    setValues = _useState2[1];\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errors = _useState4[0],\n    setErrors = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    dataIsCorrect = _useState6[0],\n    setDataIsCorrect = _useState6[1];\n  var handleChange = function handleChange(event) {\n    setValues(_objectSpread({}, values, _defineProperty({}, event.target.name, event.target.value)));\n  };\n  var handleFormSubmit = function handleFormSubmit(event) {\n    event.preventDefault();\n    setErrors(Validation(values));\n    setDataIsCorrect(true);\n  };\n  useEffect(function () {\n    if (Object.keys(errors).length === 0 && dataIsCorrect) {\n      submitForm(true);\n    }\n  }, [errors]);\n  return {\n    handleChange: handleChange,\n    handleFormSubmit: handleFormSubmit,\n    values: values,\n    errors: errors\n  };\n};\nexport default useForm;","map":{"version":3,"names":["useState","useEffect","Validation","useForm","submitForm","fullname","email","tel","values","setValues","errors","setErrors","dataIsCorrect","setDataIsCorrect","handleChange","event","target","name","value","handleFormSubmit","preventDefault","Object","keys","length"],"sources":["/Users/fugazi/criberr/src/components/useForm.js"],"sourcesContent":["import {useState, useEffect} from \"react\";\nimport Validation from \"./Validation\";\n\nconst useForm = (submitForm) => {\n  \nconst [values, setValues] = useState({\n    fullname: \"\",\n    email: \"\",\n    tel: \"\",\n\n});\n\nconst [errors, setErrors] = useState ({});\nconst [dataIsCorrect, setDataIsCorrect] = useState(false);\n\n const handleChange = (event) => {\n    setValues({\n        ...values,\n        [event.target.name]: event.target.value,\n    })\n }\nconst handleFormSubmit = (event) => {\n    event.preventDefault();\n    setErrors(Validation(values));\n    setDataIsCorrect(true);\n};\n\nuseEffect(() =>{\n    if(Object.keys(errors).length === 0 && dataIsCorrect){\n        submitForm(true);\n    }\n},[errors]);\nreturn {handleChange, handleFormSubmit, values, errors };\n}\n\nexport default useForm"],"mappings":";;;AAAA,SAAQA,QAAQ,EAAEC,SAAS,QAAO,OAAO;AACzC,OAAOC,UAAU,MAAM,cAAc;AAErC,IAAMC,OAAO,GAAG,SAAVA,OAAO,CAAIC,UAAU,EAAK;EAAA,gBAEJJ,QAAQ,CAAC;MACjCK,QAAQ,EAAE,EAAE;MACZC,KAAK,EAAE,EAAE;MACTC,GAAG,EAAE;IAET,CAAC,CAAC;IAAA;IALKC,MAAM;IAAEC,SAAS;EAAA,iBAOIT,QAAQ,CAAE,CAAC,CAAC,CAAC;IAAA;IAAlCU,MAAM;IAAEC,SAAS;EAAA,iBACkBX,QAAQ,CAAC,KAAK,CAAC;IAAA;IAAlDY,aAAa;IAAEC,gBAAgB;EAErC,IAAMC,YAAY,GAAG,SAAfA,YAAY,CAAIC,KAAK,EAAK;IAC7BN,SAAS,mBACFD,MAAM,sBACRO,KAAK,CAACC,MAAM,CAACC,IAAI,EAAGF,KAAK,CAACC,MAAM,CAACE,KAAK,GACzC;EACL,CAAC;EACF,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgB,CAAIJ,KAAK,EAAK;IAChCA,KAAK,CAACK,cAAc,EAAE;IACtBT,SAAS,CAACT,UAAU,CAACM,MAAM,CAAC,CAAC;IAC7BK,gBAAgB,CAAC,IAAI,CAAC;EAC1B,CAAC;EAEDZ,SAAS,CAAC,YAAK;IACX,IAAGoB,MAAM,CAACC,IAAI,CAACZ,MAAM,CAAC,CAACa,MAAM,KAAK,CAAC,IAAIX,aAAa,EAAC;MACjDR,UAAU,CAAC,IAAI,CAAC;IACpB;EACJ,CAAC,EAAC,CAACM,MAAM,CAAC,CAAC;EACX,OAAO;IAACI,YAAY,EAAZA,YAAY;IAAEK,gBAAgB,EAAhBA,gBAAgB;IAAEX,MAAM,EAANA,MAAM;IAAEE,MAAM,EAANA;EAAO,CAAC;AACxD,CAAC;AAED,eAAeP,OAAO"},"metadata":{},"sourceType":"module"}